<!DOCTYPE html>
<html lang="sv">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
	<meta http-equiv="X-UA-Compatible" content="IE=Edge;chrome=1">
	<title>Verksamhetskarta exempel</title>
	<link rel="stylesheet" href="css/style.css">
</head>
<style>
	#wrapper {
		padding: 20px;
		margin: 20px;
		border: 1px solid black;
	}

	#category {
		width: 100%;
		height: 50%;
	}

	code {
		color: red;
	}

	#verksamhetskarta {
		width: 100%; 
		height: 500px; 
		border: 1px solid green;
	}
</style>

<body>
	<div id="wrapper">
		<div id="category">
			<h1>Verksamhetskarta</h1>
			<code>Verksamhet: <category></category></code>
			<br>
			<br>
			<div id="verksamhetskarta"></div>
		</div>
	</div>
	<script src="js/origo.js"></script>
	<script type="text/javascript">
		/**
		 * Setup - Set dev url, Set production url, debug - displays the current url to the console.
		 * debug also fetches resources like index.json from the dev url specified in WebMap.
		 */
		const dev = "http://localhost:9966/webb/js/webMap.js";
		const prod = "http://kartor.vasteras.se/webb/js/webMap.js";
		const debug = true;

		const script = document.createElement('script');
		script.src = dev; // <<<<<<<<< SETUP
		const body = document.getElementsByTagName('body')[0];
		body.append(script);

		const category = "Grundskola";
		const categoryHTML = document.getElementsByTagName("category")[0];
		categoryHTML.innerHTML = category;
		setTimeout(() => {
			try {
				// Badplats, Bibliotek, Boende för missbrukare, Boende för psykiskt funktionsnedsatta och Fotbollsplan finns
				CategoryMap("verksamhetskarta", category, debug);
			} catch (error) {
				console.warn(error);
			}
		}, 1000);
	</script>
</body>

</html>